[build]
  publish = "."

[functions]
  directory = "netlify/functions"
  node_bundler = "esbuild"
  external_node_modules = ["yahoo-finance2"]

[functions."quotes"]
  timeout = 26

[functions."stock"]
  timeout = 15

[functions."chart"]
  timeout = 15

[functions."sparklines"]
  timeout = 26

[[redirects]]
  from = "/api/sparklines"
  to = "/.netlify/functions/sparklines"
  status = 200

[[redirects]]
  from = "/api/stock/*/chart"
  to = "/.netlify/functions/chart?ticker=:splat"
  status = 200

[[redirects]]
  from = "/api/stock/*"
  to = "/.netlify/functions/stock?ticker=:splat"
  status = 200

[[redirects]]
  from = "/api/quotes"
  to = "/.netlify/functions/quotes"
  status = 200
